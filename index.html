<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Juego del Impostor</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 0; background:#0b0b0f; color:#fff; }
    .wrap { max-width: 720px; margin: 0 auto; padding: 18px; }
    .card { background:#141422; border:1px solid #2a2a3c; border-radius: 16px; padding: 16px; margin: 14px 0; }
    label { display:block; font-size: 14px; color:#cfcfe6; margin-bottom:6px; }
    input, textarea, select {
      width:100%; padding:12px 12px; border-radius:12px;
      border:1px solid #2a2a3c; background:#0f0f18; color:#fff; font-size:16px;
    }
    textarea { min-height: 140px; resize: vertical; }
    button { width:100%; padding:12px 12px; border-radius:12px; border:0; background:#5b5bff; color:#fff; font-size:16px; font-weight:700; cursor:pointer; }
    button.secondary { background:#2a2a3c; }
    .big { font-size: 22px; font-weight: 800; }
    .muted { color:#b8b8d6; }
    .row { display:flex; gap:10px; }
    .row > * { flex:1; }
    .hidden { display:none; }
    .pill { display:inline-block; padding:6px 10px; border-radius:999px; background:#2a2a3c; color:#d9d9ff; font-size: 13px; }

    /* RECT√ÅNGULO GRANDE (HOLD TO REVEAL) */
    .holdBox{
      user-select:none;
      -webkit-user-select:none;
      touch-action: manipulation;
      margin-top: 12px;
      border-radius: 18px;
      border: 1px solid #2a2a3c;
      background: linear-gradient(180deg, #11112a 0%, #0f0f18 100%);
      min-height: 230px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding: 18px;
      box-shadow: 0 18px 40px rgba(0,0,0,.45);
    }
    .holdTitle{ font-size: 18px; font-weight: 800; margin-bottom: 6px; }
    .holdHint{ font-size: 14px; color:#b8b8d6; }
    .holdMain{ font-size: 22px; font-weight: 900; line-height: 1.25; }
    .holdSub{ margin-top: 10px; font-size: 14px; color:#cfcfe6; }
    .danger{ color:#ff6b6b; }
    .ok{ color:#8affb1; }

    /* switch simple */
    .switchRow{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:10px; }
    .switchHint{ font-size: 13px; color:#b8b8d6; }
    .toggle{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:12px;
      border:1px solid #2a2a3c; background:#0f0f18;
    }
    .toggle input{ width:auto; }
    .disabledBox{ opacity:.55; }

    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    @media (max-width: 640px){ .grid2{ grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="big">Juego del Impostor</div>
      <div class="muted">Escribe nombres (uno por l√≠nea) y elige categor√≠a. Luego p√°sale el tel√©fono a cada quien para ver su rol.</div>
    </div>

    <div id="setup" class="card">
      <label>Nombres (uno por l√≠nea)</label>
      <textarea id="names" placeholder="Ej.
V√≠ctor
Piter
Geret
Tach"></textarea>

      <div class="muted" style="margin-top:6px">
        Jugadores detectados: <b id="count">0</b> (m√≠nimo 3).
      </div>

      <div class="switchRow" id="twoImpBox">
        <div>
          <div class="toggle">
            <input id="twoImpostors" type="checkbox" />
            <label for="twoImpostors" style="margin:0; color:#d9d9ff;">Jugar con 2 impostores</label>
          </div>
          <div class="switchHint" id="twoImpHint">Disponible a partir de 5 jugadores.</div>
        </div>
        <span class="pill" id="impCountPill">Impostores: 1</span>
      </div>

      <div style="height:12px"></div>

      <div class="grid2">
        <div>
          <label>Categor√≠a</label>
          <select id="category"></select>
          <div class="muted" style="margin-top:6px">
            La palabra se elige al azar al iniciar.
          </div>
        </div>
        <div>
          <label>Palabra elegida</label>
          <input id="pickedWord" type="text" readonly value="(se mostrar√° al iniciar)" />
          <div class="muted" style="margin-top:6px">
            (Solo para el host; los jugadores NO la ven aqu√≠)
          </div>
        </div>
      </div>

      <div id="customBox" class="hidden" style="margin-top:12px">
        <label>Lista personalizada (una palabra por l√≠nea)</label>
        <textarea id="customWords" placeholder="Ej.
Tibur√≥n
Helado
Desierto
Tenis"></textarea>
        <div class="muted" style="margin-top:6px">
          Se tomar√° una palabra al azar de aqu√≠ (m√≠nimo 3).
        </div>
      </div>

      <div style="height:14px"></div>
      <button id="btnStart">Iniciar reparto</button>
      <div style="height:10px"></div>
      <div class="muted">Tip: mant√©n presionado para ver tu rol, suelta para ocultarlo üòâ</div>
    </div>

    <div id="reveal" class="card hidden">
      <div class="pill" id="counter">Turno</div>

      <div id="holdBox" class="holdBox" role="button" aria-label="Mant√©n presionado para revelar">
        <div>
          <div class="holdTitle" id="turnName">Le toca a:</div>
          <div class="holdMain" id="turnLabel">Jugador</div>
          <div class="holdSub" id="holdHint">Mant√©n presionado para ver tu rol</div>
        </div>
      </div>

      <div style="height:12px"></div>
      <button id="btnNext" class="secondary" disabled>Siguiente jugador</button>
      <div class="muted" style="margin-top:10px">El bot√≥n se habilita cuando sueltas (para que no avancen sin ocultar).</div>
    </div>

    <div id="final" class="card hidden">
      <div class="big">¬°Listo!</div>
      <div class="muted">Ya todos vieron su rol.</div>
      <div style="height:14px"></div>
      <div class="big" id="starter"></div>
      <div style="height:14px"></div>
      <button class="secondary" id="btnRestart">Reiniciar</button>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    // ‚úÖ Listas de palabras por categor√≠a (ed√≠talas a gusto)
    const WORDS = {
     "Jugadores de f√∫tbol": [
      "Messi","Cristiano Ronaldo","Kylian Mbapp√©","Erling Haaland","Neymar","Luka Modriƒá","Karim Benzema","Mohamed Salah","Kevin De Bruyne","Robert Lewandowski",
      "Vin√≠cius Jr.","Jude Bellingham","Harry Kane","Antoine Griezmann","Son Heung-min","Khvicha Kvaratskhelia","Pedri","Gavi","Federico Valverde","Thibaut Courtois",
    
      "Ronaldinho","Ronaldo Naz√°rio","Zinedine Zidane","Xavi","Andr√©s Iniesta","Andrea Pirlo","David Beckham","Thierry Henry","Kak√°","Andriy Shevchenko",
      "Roberto Carlos","Cafu","Paolo Maldini","Alessandro Nesta","Fabio Cannavaro","Gianluigi Buffon","Iker Casillas","Virgil van Dijk","Sergio Ramos","Gerard Piqu√©",
    
      "Alisson","Ederson","Marc-Andr√© ter Stegen","Jan Oblak","Manuel Neuer","Keylor Navas","Gianluigi Donnarumma","Andr√© Onana","Yann Sommer","Mike Maignan",
    
      "Rodri","Casemiro","Joshua Kimmich","Ilkay G√ºndogan","Toni Kroos","Declan Rice","Alexis Mac Allister","Enzo Fern√°ndez","Bruno Fernandes","Bernardo Silva",
      "Martin √òdegaard","Dominik Szoboszlai","Frenkie de Jong","Aur√©lien Tchouam√©ni","Eduardo Camavinga","Martin Zubimendi","Granit Xhaka","Sergej Milinkoviƒá-Saviƒá","Dani Parejo",
    
      "Lautaro Mart√≠nez","Juli√°n √Ålvarez","Victor Osimhen","Du≈°an Vlahoviƒá","Alexander Isak","√Ålvaro Morata","Marcus Rashford","Jadon Sancho","Bukayo Saka","Phil Foden",
      "Ousmane Demb√©l√©","Kingsley Coman","Serge Gnabry","Leroy San√©","Luis D√≠az","Raphinha","Rodrygo","Gabriel Jesus","Richarlison","Christopher Nkunku",
    
      "√Ångel Di Mar√≠a","Paulo Dybala","James Rodr√≠guez","Juan Guillermo Cuadrado","Alexis S√°nchez","Arturo Vidal","Edinson Cavani","Luis Su√°rez","Diego Forl√°n","Diego God√≠n",
    
      "Achraf Hakimi","Jo√£o Cancelo","Trent Alexander-Arnold","Reece James","Theo Hern√°ndez","Alphonso Davies","Kyle Walker","Dani Carvajal","Andrew Robertson","Ronald Ara√∫jo",
    
      "Lamine Yamal","Endrick","Estev√£o","Jamal Musiala","Florian Wirtz","Karim Adeyemi","Alejandro Garnacho","Rasmus H√∏jlund","Warren Za√Øre-Emery","Arda G√ºler",
    
      "Kai Havertz","Gabriel Martinelli","Thomas Partey","William Saliba","Gabriel Magalh√£es","Ben White","David Raya",
      "Cole Palmer","Mois√©s Caicedo","Conor Gallagher","Nicolas Jackson","Marc Cucurella","Thiago Silva","Levi Colwill","Mykhailo Mudryk",
    
      "Bruno Guimar√£es","Anthony Gordon","Kieran Trippier","Sven Botman","Nick Pope","Callum Wilson","James Maddison",
      "Dominic Solanke","Jarrod Bowen","Lucas Paquet√°","Mohammed Kudus","James Ward-Prowse","Ollie Watkins","Douglas Luiz","Youri Tielemans",
      "Emiliano Mart√≠nez","John McGinn",
    
      "Jack Grealish","J√©r√©my Doku","R√∫ben Dias","John Stones",
      "Darwin N√∫√±ez","Diogo Jota","Cody Gakpo",
    
      "Andriy Lunin","Antonio R√ºdiger","David Alaba","√âder Milit√£o","Nacho Fern√°ndez","Ferland Mendy","Fran Garc√≠a","Dani Ceballos","Brahim D√≠az","Joselu",
      "I√±aki Pe√±a","Jules Kound√©","Andreas Christensen","Pau Cubars√≠","Alejandro Balde","Ferm√≠n L√≥pez","Jo√£o F√©lix",
    
      "Jos√© Mar√≠a Gim√©nez","Axel Witsel","Reinildo Mandava","Nahuel Molina","Marcos Llorente","Koke","Rodrigo De Paul","Samuel Lino","√Ångel Correa",
      "Isco","Nabil Fekir","Ayoze P√©rez","Borja Iglesias","Takefusa Kubo","Mikel Oyarzabal","Brais M√©ndez","√Ålex Baena",
    
      "Marcus Thuram","Hakan √áalhanoƒülu","Nicol√≤ Barella","Alessandro Bastoni","Federico Dimarco","Denzel Dumfries","Benjamin Pavard","Henrikh Mkhitaryan",
      "Rafael Le√£o","Olivier Giroud","Christian Pulisic","Fikayo Tomori","Isma√´l Bennacer","Tijjani Reijnders","Davide Calabria","Simon Kj√¶r",
      "Piotr Zieli≈Ñski","Stanislav Lobotka","Giovanni Di Lorenzo","Alex Meret","Amir Rrahmani",
      "Federico Chiesa","Adrien Rabiot","Manuel Locatelli","Bremer","Danilo","Wojciech Szczƒôsny","Paul Pogba",
      "Romelu Lukaku","Lorenzo Pellegrini","Gianluca Mancini","Leonardo Spinazzola","Chris Smalling",
      "Ciro Immobile","Luis Alberto","Mattia Zaccagni","Ivan Provedel",
    
      "Leon Goretzka","Thomas M√ºller","Matthijs de Ligt","Dayot Upamecano","Kim Min-jae",
      "Jeremie Frimpong","Alejandro Grimaldo","Jonathan Tah","Marco Reus","Julian Brandt","Mats Hummels","Niklas S√ºle",
      "Donyell Malen","Lo√Øs Openda","Xavi Simons","Benjamin ≈†e≈°ko","Peter Gul√°csi","Randal Kolo Muani","Mario G√∂tze","Kevin Trapp",
    
      "Marquinhos","Milan ≈†kriniar","Lucas Hern√°ndez","Nuno Mendes","Vitinha","Marco Verratti","Gon√ßalo Ramos","Bradley Barcola",
      "Alexandre Lacazette","Corentin Tolisso","Duje ƒÜaleta-Car","Jonathan David","Benjamin Andr√©",
      "Wissam Ben Yedder","Takumi Minamino",
    
      "Jo√£o Palhinha","Rafael Le√£o","Diogo Costa","Pepe",
      "Cristian Romero","Lisandro Mart√≠nez","Nicol√°s Otamendi",
      "Giorgian De Arrascaeta","Radamel Falcao","Davinson S√°nchez",
      "Hirving Lozano","Ra√∫l Jim√©nez","Santiago Gim√©nez","Edson √Ålvarez","Guillermo Ochoa","Juli√°n Qui√±ones","Jes√∫s Corona","H√©ctor Herrera",
    
      "Pel√©","Diego Maradona","Johan Cruyff","Franz Beckenbauer","Gerd M√ºller","Michel Platini","Eus√©bio","Ferenc Pusk√°s","Alfredo Di St√©fano","George Best",
      "Lev Yashin","Paolo Rossi","Bobby Charlton","Zico","S√≥crates","Rom√°rio","Rivaldo","Roberto Baggio","Marco van Basten","Ruud Gullit",
      "Frank Rijkaard","Dennis Bergkamp","Eric Cantona","Ryan Giggs","Paul Scholes","Roy Keane","Steven Gerrard","Frank Lampard","Didier Drogba","Samuel Eto'o",
      "Franco Baresi","Carlos Alberto","Daniel Passarella","Javier Zanetti","Juan Rom√°n Riquelme",
      "Hugo S√°nchez","Cuauht√©moc Blanco","Rafa M√°rquez","Jared Borgetti","Claudio Su√°rez","Luis Hern√°ndez",
      "Oliver Kahn","Philipp Lahm","Bastian Schweinsteiger","Miroslav Klose","Lothar Matth√§us","Zlatan Ibrahimoviƒá","David Villa","Fernando Torres",
      "Xabi Alonso","Sergio Busquets","Carles Puyol","Marcelo","Dani Alves","Patrick Vieira","Claude Mak√©l√©l√©",
      "Ruud van Nistelrooy","Arjen Robben","Franck Rib√©ry"
    ],


      "Personas famosas": [
        "Taylor Swift","Bad Bunny","The Rock","Shakira","Ariana Grande","Lionel Messi","Kanye West","Billie Eilish","Drake","Zendaya",
        "Leonardo DiCaprio","Dua Lipa","Selena Gomez","Tom Holland","Rihanna","Beyonc√©","MrBeast","Keanu Reeves","Harry Styles","Cillian Murphy",
      
        "Justin Bieber","Ed Sheeran","Bruno Mars","The Weeknd","Lady Gaga","Miley Cyrus","Olivia Rodrigo","Sabrina Carpenter","Doja Cat","Katy Perry",
        "Karol G","Peso Pluma","Feid","Anitta","Rosal√≠a","J Balvin","Maluma","Ozuna","Nicki Minaj","Cardi B",
      
        "Cristiano Ronaldo","Kylian Mbapp√©","Neymar","Erling Haaland","Ronaldinho","David Beckham","LeBron James","Michael Jordan","Stephen Curry","Serena Williams",
        "Rafael Nadal","Roger Federer","Usain Bolt","Simone Biles","Tom Brady","Patrick Mahomes","Shohei Ohtani","Lewis Hamilton","Max Verstappen","Checo P√©rez",
      
        "Brad Pitt","Johnny Depp","Robert Downey Jr.","Chris Evans","Scarlett Johansson","Margot Robbie","Ryan Gosling","Emma Stone","Jennifer Lawrence","Anne Hathaway",
        "Will Smith","Denzel Washington","Samuel L. Jackson","Pedro Pascal","Timoth√©e Chalamet","Florence Pugh","Gal Gadot","Henry Cavill","Jason Momoa","Hugh Jackman",
      
        "Kim Kardashian","Kylie Jenner","Kendall Jenner","Kourtney Kardashian","Khlo√© Kardashian","Paris Hilton","Oprah Winfrey","Ellen DeGeneres","Jimmy Fallon","Trevor Noah",
      
        "Elon Musk","Jeff Bezos","Bill Gates","Mark Zuckerberg","Steve Jobs","Warren Buffett","Jack Ma","Sam Altman","Reed Hastings","Sundar Pichai",
      
        "PewDiePie","Ibai Llanos","AuronPlay","Rubius","Kai Cenat","IShowSpeed","Logan Paul","Jake Paul","Pokimane","Amouranth",
      
        // --- Cantantes / M√∫sica global ---
        "Adele","Lana Del Rey","SZA","Halsey","Lorde","Camila Cabello","Shawn Mendes","Charlie Puth","Sam Smith","BTS",
        "Jungkook","RM","Jimin","V","BLACKPINK","Jennie","Lisa","Ros√©","Jisoo","IU",
        "Post Malone","Lil Nas X","Travis Scott","Future","Playboi Carti","Tyler, The Creator","Frank Ocean","Childish Gambino","A$AP Rocky","21 Savage",
        "Bizarrap","Nathy Peluso","C. Tangana","Quevedo","Rauw Alejandro","Myke Towers","Eladio Carri√≥n","Mora","Young Miko","Tokischa",
      
        // --- DJs / Electr√≥nica ---
        "David Guetta","Calvin Harris","Martin Garrix","Ti√´sto","Armin van Buuren","Deadmau5","Skrillex","Diplo","Marshmello","Zedd",
        "Steve Aoki","Afrojack","Alesso","Illenium","Avicii","Peggy Gou","Charlotte de Witte","Amelie Lens","Anyma","Fred again..",
      
        // --- Actores / Cine / Series ---
        "Al Pacino","Robert De Niro","Joe Pesci","Marlon Brando","Jack Nicholson","Christian Bale","Joaquin Phoenix","Jared Leto","Benedict Cumberbatch","Tom Hanks",
        "Matthew McConaughey","Ryan Reynolds","Jake Gyllenhaal","Adam Driver","Daniel Day-Lewis","Robert Pattinson","Andrew Garfield","Paul Mescal","Barry Keoghan","Oscar Isaac",
        "Natalie Portman","Keira Knightley","Charlize Theron","Emily Blunt","Anya Taylor-Joy","Millie Bobby Brown","Sydney Sweeney","Jenna Ortega","Hailee Steinfeld","Saoirse Ronan",
      
        // --- Streamers / YouTube / Creadores ---
        "MrBeast Gaming","Dream","GeorgeNotFound","Sapnap","Ludwig","xQc","Adin Ross","Ninja","Shroud","Valkyrae",
        "ElMariana","Rivers","JuanSGuarnizo","Quackity","TheGrefg","Fernanfloo","Luisito Comunica","Dross","Auron","Pato Horneado",
      
        // --- Influencers / Redes ---
        "Chiara Ferragni","Addison Rae","Charli D'Amelio","Bella Poarch","Alexis Ren","Lele Pons","Juanpa Zurita","Domelipa","Kuno","Kim Loaiza",
        "Wendy Guevara","Kunno","Nicole Figueroa","Naim Darrechi","Zorrito Youtubero","Bryan Villegas",
      
        // --- Empresarios / Tech / Cultura ---
        "Tim Cook","Satya Nadella","Jensen Huang","Larry Page","Sergey Brin","Michael Bloomberg","Carlos Slim","Bernard Arnault","Elon Musk Jr.",
        "Mr Wonderful","Peter Thiel","Naval Ravikant","Reid Hoffman","Marc Benioff","Daniel Ek",
      
        // --- Deportistas (m√°s variedad) ---
        "Kobe Bryant","Shaquille O'Neal","Giannis Antetokounmpo","Luka Donƒçiƒá","Nikola Jokic","Kevin Durant","James Harden","Russell Westbrook","Kyrie Irving","Damian Lillard",
        "Conor McGregor","Khabib Nurmagomedov","Jon Jones","Israel Adesanya","Alex Pereira","Francis Ngannou",
        "Naomi Osaka","Iga Swiatek","Carlos Alcaraz","Jannik Sinner","Novak Djokovic","Andy Murray",
        "Fernando Alonso","Sebastian Vettel","George Russell","Lando Norris","Charles Leclerc","Daniel Ricciardo",
      
        // --- Extra para confundir en el impostor ---
        "Barack Obama","Donald Trump","Joe Biden","Justin Trudeau","Emmanuel Macron","Volodymyr Zelenskyy",
        "Greta Thunberg","Malala Yousafzai","Stephen Hawking","Neil deGrasse Tyson","Jordan Peterson","Yuval Noah Harari"
      ],


      "Pel√≠culas/Series": [
        "Stranger Things","Breaking Bad","Game of Thrones","Narcos","The Office","Friends","Dark","La Casa de Papel","The Boys","The Mandalorian",
        "Harry Potter","Star Wars","Avengers","Titanic","Shrek","Toy Story","Interstellar","Inception","Joker","Spider-Man",
      
        "Better Call Saul","House of the Dragon","The Walking Dead","Peaky Blinders","Black Mirror","Vikings","Lost","Prison Break","The Sopranos","True Detective",
        "Ozark","The Crown","Euphoria","The Last of Us","Wednesday","Chernobyl","Mindhunter","The Witcher","The Umbrella Academy","13 Reasons Why",
      
        "Breaking Bad: El Camino","Avatar","Avatar: The Way of Water","The Lord of the Rings","The Hobbit","Pirates of the Caribbean","Fast & Furious","Jurassic Park","Jurassic World","Transformers",
        "Batman","The Dark Knight","Superman","Wonder Woman","Justice League","Deadpool","X-Men","Guardians of the Galaxy","Doctor Strange","Thor",
      
        "Gladiator","The Matrix","Fight Club","Forrest Gump","Pulp Fiction","The Godfather","The Godfather Part II","Scarface","Goodfellas","The Wolf of Wall Street",
        "Django Unchained","Once Upon a Time in Hollywood","Oppenheimer","Barbie","Parasite","Whiplash","La La Land","The Shawshank Redemption","Seven","The Silence of the Lambs",
      
        "The Simpsons","Family Guy","Rick and Morty","South Park","BoJack Horseman","Arcane","Attack on Titan","Death Note","One Piece","Naruto",
        "Dragon Ball Z","Pok√©mon","Avatar: The Last Airbender","The Big Bang Theory","How I Met Your Mother","Modern Family","Brooklyn Nine-Nine","Community","Parks and Recreation","Seinfeld",
      
        "House","Grey's Anatomy","Scrubs","ER","The Good Doctor","Dr. House","Chicago Fire","Chicago PD","Chicago Med","9-1-1",
        "Suits","Mad Men","Billions","Succession","Industry","The Bear","Ted Lasso","Shrinking","Mythic Quest","Silicon Valley",
      
        "Sherlock","Luther","Dexter","Hannibal","Bates Motel","You","The Night Of","The Killing","Fargo","The Wire",
        "Boardwalk Empire","Rome","Spartacus","The Tudors","The Borgias","Outlander","The Expanse","Westworld","Foundation","Silo",
      
        "Breaking Bad: Better Call Saul","The Punisher","Daredevil","Jessica Jones","Luke Cage","Iron Fist","Moon Knight","Loki","WandaVision","Hawkeye",
        "The Falcon and the Winter Soldier","Echo","Ms. Marvel","She-Hulk","Secret Invasion","Andor","Obi-Wan Kenobi","Ahsoka","Boba Fett","Clone Wars",
      
        "Rocky","Creed","Rambo","Terminator","Terminator 2","Alien","Aliens","Predator","Blade Runner","Blade Runner 2049",
        "Back to the Future","Indiana Jones","Mission Impossible","James Bond","Casino Royale","Skyfall","No Time to Die","Top Gun","Top Gun Maverick","Die Hard",
      
        "Home Alone","Forrest Gump","Cast Away","Saving Private Ryan","The Green Mile","American History X","The Pianist","Schindler's List","Life Is Beautiful","12 Angry Men",
        "The Social Network","The Big Short","Moneyball","Spotlight","Argo","Heat","The Departed","Casino","Donnie Brasco","The Irishman",
      
        "Jaws","E.T.","Close Encounters","Jurassic Park","King Kong","Godzilla","Godzilla vs Kong","Pacific Rim","Cloverfield","War of the Worlds",
      
        "Saw","The Conjuring","Annabelle","Insidious","Hereditary","The Exorcist","It","It Chapter Two","A Quiet Place","The Ring",
        "Scream","Halloween","Friday the 13th","Nightmare on Elm Street","The Blair Witch Project","Paranormal Activity","Sinister","The Babadook","Get Out","Us",
      
        "Toy Story 2","Toy Story 3","Toy Story 4","Cars","Cars 2","Cars 3","Monsters Inc","Monsters University","Finding Nemo","Finding Dory",
        "Inside Out","Up","Coco","Ratatouille","Wall-E","The Incredibles","Incredibles 2","Turning Red","Soul","Luca",
      
        "Frozen","Frozen II","Moana","Tangled","Encanto","Beauty and the Beast","The Lion King","Aladdin","Mulan","Hercules",
        "Kung Fu Panda","How to Train Your Dragon","Madagascar","Ice Age","The Croods","Megamind","Despicable Me","Minions","Shrek 2","Shrek Forever After",
      
        "One Punch Man","Demon Slayer","Jujutsu Kaisen","Bleach","Fullmetal Alchemist","Hunter x Hunter","Tokyo Ghoul","Chainsaw Man","Spy x Family","My Hero Academia",
        "Neon Genesis Evangelion","Cowboy Bebop","Samurai Champloo","Steins;Gate","Code Geass","Akira","Your Name","Weathering With You","Spirited Away","Princess Mononoke",
      
        "Black Swan","Requiem for a Dream","The Truman Show","Eternal Sunshine of the Spotless Mind","Her","Lost in Translation","Drive","Nightcrawler","No Country for Old Men","There Will Be Blood",
        "Birdman","The Revenant","Gravity","Children of Men","Arrival","Ex Machina","Annihilation","Moonlight","Manchester by the Sea","Call Me by Your Name",
      
        "Gossip Girl","The OC","90210","Pretty Little Liars","Riverdale","The Vampire Diaries","The Originals","Teen Wolf","Skins","Elite",
        "Sex Education","Normal People","Bridgerton","Emily in Paris","Love","Master of None","Fleabag","The Marvelous Mrs. Maisel","Girls","Big Little Lies"
      ],

      "Videojuegos": [
        "Minecraft","Fortnite","Grand Theft Auto","Red Dead Redemption","The Last of Us","God of War","EA Sports FC",
        "Rocket League","Among Us","Fall Guys","Apex Legends","Valorant","Counter-Strike","Overwatch","League of Legends",
        "Dota 2","Smite","World of Warcraft","Diablo","StarCraft","Hearthstone",
      
        "The Legend of Zelda","Breath of the Wild","Tears of the Kingdom","Metroid","Super Mario","Mario Kart",
        "Super Smash Bros","Donkey Kong Country","Kirby","Yoshi","Animal Crossing","Splatoon",
        "Pok√©mon","Pok√©mon Go",
      
        "Halo","Gears of War","Forza Horizon","Microsoft Flight Simulator","Age of Empires","Fable","Sea of Thieves",
      
        "Uncharted","Tomb Raider","Spider-Man","Days Gone","Ghost of Tsushima","Horizon Zero Dawn",
        "Bloodborne","Dark Souls","Elden Ring","Sekiro","Demon's Souls","Nioh",
      
        "Assassin's Creed","Far Cry","Watch Dogs","Rainbow Six Siege","The Division","Ghost Recon",
        "Prince of Persia","Rayman",
      
        "Resident Evil","Devil May Cry","Monster Hunter","Street Fighter","Tekken","Mortal Kombat",
        "Dragon Ball FighterZ","Naruto Ultimate Ninja Storm","One Piece Odyssey",
      
        "The Witcher","Cyberpunk 2077","Baldur's Gate","Skyrim","Fallout","Starfield",
        "Mass Effect","Dragon Age","Final Fantasy","Kingdom Hearts","Persona","Chrono Trigger",
      
        "Metal Gear Solid","Death Stranding","Silent Hill","Alan Wake","Control","Max Payne","L.A. Noire",
      
        "Undertale","Deltarune","Hollow Knight","Hollow Knight Silksong","Celeste","Cuphead","Dead Cells",
        "Hades","Stardew Valley","Terraria","The Binding of Isaac","Slay the Spire","Rogue Legacy",
        "Ori and the Blind Forest","Limbo","Inside","Journey","Abz√ª","Firewatch",
        "What Remains of Edith Finch","Disco Elysium","Outer Wilds","Subnautica","No Man's Sky",
      
        "Roblox","Garry's Mod","Rust","Ark Survival Evolved","Valheim","DayZ","Escape from Tarkov","PUBG",
        "Clash of Clans","Clash Royale","Brawl Stars","Candy Crush","Angry Birds","Plants vs Zombies",
        "Geometry Dash","Temple Run","Subway Surfers","Genshin Impact","Honkai Star Rail",
      
        "Need for Speed","Gran Turismo","Burnout Paradise","Mario Party","The Sims","SimCity",
        "Cities Skylines","RollerCoaster Tycoon","Zoo Tycoon",
      
        "Five Nights at Freddy's","Amnesia","Outlast","Phasmophobia","Little Nightmares",
        "Detroit Become Human","Heavy Rain","Until Dawn","The Quarry",
      
        "Papers, Please","Untitled Goose Game","Human Fall Flat","Gang Beasts",
        "Totally Accurate Battle Simulator","Worms","Town of Salem","Project Winter",
      
        "Metroid Prime","Metroid Dread","Returnal","Prey","BioShock","Dishonored",
        "Deus Ex","System Shock","Half-Life","Portal","Left 4 Dead",
      
        "Clair Obscur Expedition 33","Pentiment","Hi-Fi Rush","Grounded","Sifu",
        "Inscryption","Tunic","Death's Door","Blasphemous","Gris","Neva",
        "Katana Zero","Hotline Miami","Hyper Light Drifter","Axiom Verge",
      
        "Nier Automata","Shadow of the Colossus","Ico","The Witness","Fez","Braid",
        "Spelunky","Enter the Gungeon","Risk of Rain","Loop Hero",
      
        "The Talos Principle","Outer Worlds","Spec Ops The Line","Brothers A Tale of Two Sons",
        "Little Inferno","Oxenfree","Night in the Woods","Kentucky Route Zero",
        "Return of the Obra Dinn","Pillars of Eternity","Pathologic","Frostpunk",
      
        "Dead Space","Titanfall","Mirror's Edge","Just Cause","Prototype",
        "Sleeping Dogs","Yakuza","Judgment","Like a Dragon",
      
        "Cuphead The Delicious Last Course","Neon White","Bomb Rush Cyberfunk",
        "Viewfinder","Chants of Sennaar","Animal Well","Balatro","R.E.P.O.","Marvel Rivals","Bully","Yandere Simulator","Inazuma Eleven","Punch Out","Brawlhalla","It Takes Two","Hogwarts Legacy","LEGO Party","LEGO Batman","LEGO Ninjago","LEGO Harry Potter","LEGO Star Wars","Nintendogs","Mario Strikers","Mario Tennis","Just Dance","Wii Sports","Wii Party","Luigi's Mansion","Hell Divers","Doritos Crash Course","Castle Crashers","Castlevania","Chop Chop Soccer","Batman: Arkham Asylum","Ace Attorney","Simpsons Hit and Run","Captain Tsubasa","Skylanders","Avicii Invector","Epic Mickey","Copa Toon","2048","Pacman","Jetpack Joyride","Microsoft Flight Simulator","Zombieville","Zombie Tsunami","GeoGuessr","Madden","MLB The Show","TopSpin 2k","NBA 2K","Sonic Mania","Sonic Generations","Sonic Racing","Sega Superstars Tennis","Crash Bandicoot","Football Manager","Mega Man","Marvel vs Capcom","Injustice","Badland","Despelote","Pixel Gun 3D","Head Soccer","The Spongebob Squarepants Movie","Super Monkey Ball","Overcooked"
      
      ],
      
      


      "Animales": [
        "Tibur√≥n","Delf√≠n","Ping√ºino","Jaguar","Elefante","Gorila","√Åguila","Tortuga","Pulpo","Zorro","Lobo","Oso","Camale√≥n","Caballo","Koala",
      
        "Le√≥n","Tigre","Leopardo","Puma","Pantera","Guepardo","Rinoceronte","Hipop√≥tamo","Jirafa","Cebra",
        "B√∫falo","Ant√≠lope","Bisonte","Alce","Ciervo","Venado","Jabal√≠","Tapir","Okapi","Capibara",
      
        "Perro","Gato","Conejo","H√°mster","Rat√≥n","Rata","Hur√≥n","Erizo","Cobaya","Chinchilla",
        "Vaca","Toro","Oveja","Cabra","Cerdo","Burro","Mula","Llama","Alpaca","Camello",
      
        "Mono","Chimpanc√©","Orangut√°n","Mandril","L√©mur","Perezoso","Oso panda","Oso polar","Oso pardo","Mapache",
        "Tej√≥n","Nutria","Castor","Zorrillo","Mofeta","Comadreja","Mangosta","Suricata","Coat√≠","Tepezcuintle",
      
        "√Åguila calva","Halc√≥n","B√∫ho","Lechuza","C√≥ndor","Cuervo","Loro","Guacamaya","Cacat√∫a","Canario",
        "Colibr√≠","Flamenco","Cisne","Pato","Ganso","Pavo real","Avestruz","Em√∫","Kiwi","Pel√≠cano",
      
        "Serpiente","Cobra","Pit√≥n","Boa","V√≠bora","Lagarto","Iguana","Drag√≥n de Komodo","Gecko","Cocodrilo",
        "Caim√°n","Alligator","Tortuga marina","Tortuga terrestre","Camale√≥n pantera","Salamandra","Ajolote","Rana","Sapo","Trit√≥n",
      
        "Ballena","Orca","Narval","Manat√≠","Foca","Le√≥n marino","Morsa","Tibur√≥n blanco","Tibur√≥n martillo","Mantarraya",
        "Pez payaso","Pez globo","Pez espada","At√∫n","Salm√≥n","Anguila","Caballito de mar","Estrella de mar","Erizo de mar","Medusa",
      
        "Mariposa","Abeja","Avispa","Hormiga","Escarabajo","Lib√©lula","Grillo","Saltamontes","Mantis","Cucaracha",
        "Ara√±a","Tar√°ntula","Escorpi√≥n","Alacr√°n","Caracol","Babosa","Lombriz","Ciempi√©s","Milpi√©s","Pulga"
      ],

      "Objetos": [
        "Celular","Aud√≠fonos","Mochila","Llaves","Control remoto","Cargador","Vaso","L√°mpara","Silla","Laptop","Reloj","Gorra","Libro","C√°mara",
      
        "Tablet","Mouse","Teclado","Monitor","Bocina","Micr√≥fono","Power bank","Cable USB","Disco duro","Memoria USB",
        "Router","Impresora","Esc√°ner","Webcam","Smartwatch","Calculadora","Proyector","Consola","Joystick","VR headset",
      
        "Mesa","Escritorio","Sof√°","Cama","Colch√≥n","Almohada","Cobija","Cortina","Espejo","Cuadro",
        "Estante","Librero","Caj√≥n","Closet","Perchero","Zapatera","Repisa","Biombo","Alfombra","Tapete",
      
        "Plato","Taza","Cuchara","Tenedor","Cuchillo","Sart√©n","Olla","Cacerola","Licuadora","Batidora",
        "Cafetera","Tostador","Horno","Microondas","Refrigerador","Congelador","Termo","Botella","Jarra","Colador",
      
        "Pluma","L√°piz","Borrador","Sacapuntas","Regla","Cuaderno","Agenda","Carpeta","Grapadora","Clips",
        "Resaltador","Post-it","Corrector","Marcador","Papel","Calculadora cient√≠fica","Portapapeles","Archivador","Etiqueta","Folder",
      
        "Playera","Sudadera","Chaqueta","Pantal√≥n","Short","Falda","Vestido","Calcetines","Zapatos","Tenis",
        "Sandalias","Botas","Cintur√≥n","Cartera","Bolsa","Maleta","Bufanda","Guantes","Lentes","Sombrero",
      
        "Cepillo","Peine","Espejo de mano","Toalla","Jab√≥n","Shampoo","Acondicionador","Crema","Desodorante","Perfume",
        "Rastrillo","Secadora","Plancha de cabello","Corta√∫√±as","Pinzas","Algod√≥n","Gel","Maquillaje","Protector solar","Botiqu√≠n",
      
        "Martillo","Desarmador","Pinzas","Taladro","Serrucho","Llave inglesa","Cinta m√©trica","Nivel","Clavos","Tornillos",
        "Foco","Extensi√≥n","Multicontacto","Regleta","Cerradura","Candado","Caja","Caja fuerte","Escalera","Carretilla"
      ],
      "Lista personalizada": [] // se llena con textarea
    };

    let n = 0;
    let secretWord = "";
    let impostorIndices = new Set(); // set de indices impostores
    let starterIndex = -1;
    let i = 0;                // jugador actual
    let names = [];           // lista de nombres
    let revealed = false;     // si est√° revelado (presionado)
    let lastTouch = 0;
    let numImpostors = 1;

    function randInt(max) { return Math.floor(Math.random() * max); }

    // Parse de nombres (uno por l√≠nea, elimina vac√≠os)
    function parseLines(raw){
      return (raw || "")
        .split("\n")
        .map(s => s.trim())
        .filter(s => s.length > 0);
    }

    function getPlayerName(idx){
      return (names[idx] && names[idx].trim()) ? names[idx].trim() : `Jugador ${idx + 1}`;
    }

    function updateCounter() {
      $("counter").textContent = `Turno: ${getPlayerName(i)} (${i + 1} de ${n})`;
      $("turnLabel").textContent = getPlayerName(i);
      $("turnName").textContent = "Le toca a:";
    }

    function roleFor(idx) {
      if (impostorIndices.has(idx)) return { text: "üö® Eres el impostor", kind: "danger" };
      return { text: `‚úÖ Tu palabra: ${secretWord}`, kind: "ok" };
    }

    function renderHiddenState(){
      updateCounter();
      $("holdHint").textContent = "Mant√©n presionado para ver tu rol";
      $("turnName").textContent = "Le toca a:";
      $("turnLabel").textContent = getPlayerName(i);
      $("turnLabel").classList.remove("danger", "ok");
    }

    function renderRevealedState(){
      const r = roleFor(i);
      $("turnName").textContent = "Tu rol:";
      $("turnLabel").textContent = r.text;
      $("turnLabel").classList.remove("danger", "ok");
      $("turnLabel").classList.add(r.kind);
      $("holdHint").textContent = "Suelta para ocultar y pasar el tel√©fono";
    }

    function reveal(){
      if (revealed) return;
      revealed = true;
      $("btnNext").disabled = true;
      renderRevealedState();
    }

    function hide(){
      if (!revealed) return;
      revealed = false;
      renderHiddenState();
      $("btnNext").disabled = false;
    }

    function resetUI() {
      $("setup").classList.remove("hidden");
      $("reveal").classList.add("hidden");
      $("final").classList.add("hidden");
      $("btnNext").disabled = true;
      revealed = false;
      renderHiddenState();
    }

    function pickImpostors(count){
      impostorIndices = new Set();
      while (impostorIndices.size < count) {
        impostorIndices.add(randInt(n));
      }
    }

    function pickRandomWord(list){
      return list[randInt(list.length)];
    }

    // --- UI Setup: categor√≠as ---
    function initCategories(){
      const sel = $("category");
      sel.innerHTML = "";
      Object.keys(WORDS).forEach((k) => {
        const opt = document.createElement("option");
        opt.value = k;
        opt.textContent = k;
        sel.appendChild(opt);
      });
      sel.value = "Jugadores de f√∫tbol";
    }

    function refreshCustomVisibility(){
      const isCustom = $("category").value === "Lista personalizada";
      $("customBox").classList.toggle("hidden", !isCustom);
    }

    // --- UI setup: contar nombres y habilitar 2 impostores ---
    function refreshSetupUI(){
      names = parseLines($("names").value);
      n = names.length;
      $("count").textContent = String(n);

      const canTwo = n >= 5;
      const cb = $("twoImpostors");
      const box = $("twoImpBox");
      const hint = $("twoImpHint");

      if (!canTwo) {
        cb.checked = false;
        cb.disabled = true;
        box.classList.add("disabledBox");
        hint.textContent = "Disponible a partir de 5 jugadores.";
        numImpostors = 1;
      } else {
        cb.disabled = false;
        box.classList.remove("disabledBox");
        hint.textContent = "Act√≠valo si quieren m√°s caos üòà";
        numImpostors = cb.checked ? 2 : 1;
      }

      $("impCountPill").textContent = `Impostores: ${numImpostors}`;
    }

    $("names").addEventListener("input", refreshSetupUI);
    $("twoImpostors").addEventListener("change", refreshSetupUI);
    $("category").addEventListener("change", () => { refreshCustomVisibility(); });

    $("btnStart").addEventListener("click", () => {
      names = parseLines($("names").value);
      n = names.length;

      if (n < 3) { alert("Pon al menos 3 nombres para jugar."); return; }

      numImpostors = ($("twoImpostors").checked && n >= 5) ? 2 : 1;

      // Elegir palabra al azar seg√∫n categor√≠a
      const cat = $("category").value;
      let pool = WORDS[cat] || [];

      if (cat === "Lista personalizada") {
        pool = parseLines($("customWords").value);
        if (pool.length < 3) {
          alert("En la lista personalizada pon al menos 3 palabras (una por l√≠nea).");
          return;
        }
      } else {
        if (!Array.isArray(pool) || pool.length === 0) {
          alert("Esa categor√≠a no tiene palabras. Edita el array WORDS en el c√≥digo.");
          return;
        }
      }

      secretWord = pickRandomWord(pool);
      $("pickedWord").value = secretWord; // solo para el host en setup

      pickImpostors(numImpostors);
      starterIndex = randInt(n);
      i = 0;
      revealed = false;

      $("setup").classList.add("hidden");
      $("reveal").classList.remove("hidden");
      renderHiddenState();
      $("btnNext").disabled = true; // se habilita al soltar tras revelar
    });

    $("btnNext").addEventListener("click", () => {
      i++;
      $("btnNext").disabled = true;
      revealed = false;

      if (i >= n) {
        $("reveal").classList.add("hidden");
        $("final").classList.remove("hidden");
        $("starter").textContent = `Empieza: ${getPlayerName(starterIndex)}`;
        return;
      }
      renderHiddenState();
    });

    $("btnRestart").addEventListener("click", () => {
      $("pickedWord").value = "(se mostrar√° al iniciar)";
      resetUI();
      refreshSetupUI();
    });

    // --- HOLD TO REVEAL (mouse + touch) ---
    const holdBox = $("holdBox");

    // Mouse
    holdBox.addEventListener("mousedown", (e) => { e.preventDefault(); reveal(); });
    window.addEventListener("mouseup", () => hide());
    holdBox.addEventListener("mouseleave", () => hide());

    // Touch (iOS)
    holdBox.addEventListener("touchstart", (e) => {
      lastTouch = Date.now();
      e.preventDefault();
      reveal();
    }, { passive:false });

    holdBox.addEventListener("touchend", (e) => {
      e.preventDefault();
      hide();
    }, { passive:false });

    holdBox.addEventListener("touchcancel", () => hide(), { passive:true });

    // Evita doble disparo (touch->mouse)
    holdBox.addEventListener("click", (e) => {
      if (Date.now() - lastTouch < 600) { e.preventDefault(); return; }
    });

    // init
    initCategories();
    refreshCustomVisibility();
    refreshSetupUI();
    resetUI();
  </script>
</body>
</html>
